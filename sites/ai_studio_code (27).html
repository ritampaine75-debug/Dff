<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>anyask | Precise AI Knowledge - No Login Required</title>
    
    <!-- SEO & PWA -->
    <meta name="description" content="anyask is a premium AI answer engine. No login required. Factual answers in Bengali, Hindi, & English.">
    <meta name="theme-color" content="#7c4dff">
    <link rel="manifest" id="pwa-manifest">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root { --primary: #7c4dff; --bg: #fcfcff; }
        body { background-color: var(--bg); font-family: 'Plus Jakarta Sans', sans-serif; color: #111; scroll-behavior: smooth; }

        .animate-up { animation: fadeInUp 0.8s cubic-bezier(0.19, 1, 0.22, 1) both; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Premium Glass UI */
        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0,0,0,0.05);
            border-radius: 40px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.03);
        }

        .btn-premium {
            background: #111; color: white; font-weight: 700; border-radius: 24px;
            padding: 14px 32px; transition: 0.3s; cursor: pointer; border: none;
        }
        .btn-premium:hover { background: var(--primary); transform: translateY(-2px); box-shadow: 0 10px 20px rgba(124,77,255,0.2); }

        /* Writing Cursor Animation */
        .typing::after {
            content: ""; display: inline-block; width: 3px; height: 1.1em;
            background: var(--primary); margin-left: 5px; animation: blink 0.8s infinite; vertical-align: middle;
        }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        #offline-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.98); z-index: 9999;
            display: none; flex-direction: column; align-items: center; justify-content: center; backdrop-filter: blur(10px);
        }

        .lang-btn { padding: 6px 14px; font-size: 11px; font-weight: 800; border-radius: 12px; border: 1px solid #eee; background: white; transition: 0.2s; }
        .lang-active { background: #7c4dff !important; color: white !important; border-color: #7c4dff !important; }
        
        /* The Dark Logo Container in Result Area */
        .logo-square {
            width: 52px; height: 52px;
            background: #1a1a1c;
            border-radius: 16px;
            display: flex; align-items: center; justify-content: center;
            padding: 8px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-6 md:p-12">

    <!-- Offline Mode UI -->
    <div id="offline-overlay">
        <div class="w-20 h-20 bg-red-50 text-red-500 rounded-full flex items-center justify-center mb-6 text-3xl">
            <i class="fa-solid fa-wifi-slash"></i>
        </div>
        <h2 class="text-2xl font-black mb-2" data-i18n="off_title">Offline</h2>
        <p class="text-gray-500 mb-8" data-i18n="off_desc">Check your connection to use anyask.</p>
        <button onclick="window.location.reload()" class="btn-premium">Retry</button>
    </div>

    <!-- Top Navigation -->
    <div class="w-full max-w-4xl flex justify-between items-center mb-12">
        <div class="flex gap-2">
            <button onclick="switchLang('en')" id="btn-en" class="lang-btn lang-active">EN</button>
            <button onclick="switchLang('hi')" id="btn-hi" class="lang-btn">हिन्दी</button>
            <button onclick="switchLang('bn')" id="btn-bn" class="lang-btn">বাংলা</button>
        </div>
        <div class="hidden md:flex gap-3">
            <button id="install-btn" class="hidden text-[10px] font-bold text-purple-600 bg-purple-50 px-4 py-2 rounded-full border border-purple-100 uppercase tracking-widest">
                <i class="fa-solid fa-download mr-1"></i> <span data-i18n="btn_download">Install App</span>
            </button>
            <div class="bg-emerald-50 text-emerald-600 px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest border border-emerald-100">
                <i class="fa-solid fa-lock-open mr-1"></i> <span data-i18n="no_login">No Login Required</span>
            </div>
        </div>
    </div>

    <!-- Header Section -->
    <header class="flex flex-col items-center text-center animate-up">
        <img src="https://i.ibb.co/JSh68ZM/80323-removebg-preview.png" alt="anyask" class="w-24 md:w-32 mb-2 h-auto">
        <h1 class="text-7xl font-black tracking-tighter mb-1">anyask</h1>
        <p class="text-gray-400 font-medium mb-12" data-i18n="tagline">Precise Answers. No Hallucinations.</p>
    </header>

    <!-- Search/Input Area -->
    <main class="w-full max-w-3xl space-y-10 animate-up" style="animation-delay: 0.1s;">
        <div class="glass-panel p-8 md:p-10">
            <div class="flex items-center justify-between mb-8">
                <span class="text-[11px] font-black text-gray-300 tracking-[0.3em] uppercase" data-i18n="domain">Knowledge Domain</span>
                <div class="h-2.5 w-2.5 bg-green-500 rounded-full shadow-[0_0_12px_#22c55e]"></div>
            </div>

            <textarea id="prompt" rows="2" class="w-full text-3xl font-bold outline-none bg-transparent resize-none text-gray-800 placeholder-gray-200" placeholder="..." data-i18n-placeholder="placeholder">Hi</textarea>
            
            <div class="flex justify-between items-center mt-12">
                <button onclick="resetUI()" class="text-gray-300 hover:text-red-500 transition-all p-2">
                    <i class="fa-solid fa-rotate-right text-2xl"></i>
                </button>
                <button onclick="askAI()" class="btn-premium flex items-center gap-3">
                    <span data-i18n="btn_ask">Get Answer</span>
                    <i class="fa-solid fa-chevron-right text-[12px]"></i>
                </button>
            </div>
        </div>

        <!-- Result/Response Box -->
        <section id="res-view" class="hidden">
            <div class="bg-white rounded-[45px] p-10 shadow-2xl border border-gray-50 relative overflow-hidden">
                <!-- Side highlight bar -->
                <div class="absolute top-0 left-0 w-2.5 h-full bg-purple-600"></div>
                
                <div class="flex items-center gap-5 mb-8">
                    <!-- LOGO INSERTED HERE (The Dark Square) -->
                    <div class="logo-square">
                        <img src="https://i.ibb.co/JSh68ZM/80323-removebg-preview.png" alt="Logo" class="w-full h-full object-contain">
                    </div>
                    
                    <div>
                        <h2 class="text-[11px] font-black text-gray-400 uppercase tracking-widest" data-i18n="verified">Verified Answer</h2>
                        <p id="status-label" class="text-xs font-bold text-purple-600" data-i18n="syncing">Verified Answer</p>
                    </div>
                </div>
                
                <div id="res-text" class="text-gray-700 leading-relaxed text-lg whitespace-pre-wrap"></div>
            </div>
        </section>
    </main>

    <footer class="mt-auto py-12 opacity-30">
        <p class="text-[10px] font-bold tracking-[0.4em] uppercase">© 2024 anyask Intelligence Engine</p>
    </footer>

    <script>
        // --- Translations ---
        const i18n = {
            en: { tagline: "Precise Answers. No Hallucinations.", no_login: "No Login Required", btn_download: "Install App", domain: "Knowledge Domain", placeholder: "Ask anything...", btn_ask: "Get Answer", verified: "Verified Answer", syncing: "Verifying...", off_title: "Offline", off_desc: "Check connection.", thinking: "Thinking..." },
            hi: { tagline: "सटीक उत्तर। कोई भ्रम नहीं।", no_login: "लॉगिन की जरूरत नहीं", btn_download: "ऐप इंस्टॉल करें", domain: "ज्ञान क्षेत्र", placeholder: "कुछ भी पूछें...", btn_ask: "उत्तर प्राप्त करें", verified: "सत्यापित उत्तर", syncing: "सत्यापित किया जा रहा है...", off_title: "ऑफलाइन", off_desc: "कनेक्शन जांचें।", thinking: "सोच रहा हूँ..." },
            bn: { tagline: "নির্ভুল উত্তর। কোনো বিভ্রান্তি নেই।", no_login: "লগইন করার প্রয়োজন নেই", btn_download: "অ্যাপটি নিন", domain: "জ্ঞানের পরিধি", placeholder: "কিছু জিজ্ঞাসা করুন...", btn_ask: "উত্তর পান", verified: "যাচাইকৃত উত্তর", syncing: "যাচাইকৃত উত্তর", off_title: "অফলাইন", off_desc: "সংযোগ চেক করুন।", thinking: "ভাবছি..." }
        };

        let currentLang = 'en';

        function switchLang(lang) {
            currentLang = lang;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('lang-active'));
            document.getElementById(`btn-${lang}`).classList.add('lang-active');
            document.querySelectorAll('[data-i18n]').forEach(el => { el.innerText = i18n[lang][el.getAttribute('data-i18n')]; });
            document.getElementById('prompt').placeholder = i18n[lang].placeholder;
        }

        // --- Offline Check ---
        window.addEventListener('online', () => document.getElementById('offline-overlay').style.display = 'none');
        window.addEventListener('offline', () => document.getElementById('offline-overlay').style.display = 'flex');

        // --- Core AI Logic ---
        const _k = ["c2stb3ItdjEtYjE1YTYwNzA4ZDcwNWE3NzkxNzJjZDY3ZWI3", "NTkzYjM5MTBhZmVjMWY5NDY4MWFlYWQ0YzdhOWNiZjgzMmRhZQ=="];
        function getAuth() { return atob(_k[0] + _k[1]); }

        function resetUI() { document.getElementById('prompt').value = ""; document.getElementById('res-view').classList.add('hidden'); }

        async function askAI() {
            if (!navigator.onLine) return;
            const prompt = document.getElementById('prompt').value;
            const resView = document.getElementById('res-view');
            const resText = document.getElementById('res-text');
            const status = document.getElementById('status-label');

            if (!prompt) return;
            resText.innerHTML = "";
            resText.classList.add('typing');
            resView.classList.remove('hidden');
            status.innerText = i18n[currentLang].thinking;

            try {
                const response = await fetch("https://openrouter.ai/api/v1/chat/completions", {
                    method: "POST",
                    headers: { "Authorization": `Bearer ${getAuth()}`, "Content-Type": "application/json", "HTTP-Referer": "https://anyask.edu", "X-Title": "anyask Premium" },
                    body: JSON.stringify({
                        "model": "arcee-ai/trinity-large-preview:free",
                        "stream": true,
                        "messages": [
                            {"role": "system", "content": `You are anyask. Provide precise answers. Respond in ${currentLang}. No login needed.`},
                            {"role": "user", "content": prompt}
                        ]
                    })
                });

                const reader = response.body.getReader();
                const decoder = new TextDecoder();
                while (true) {
                    const { done, value } = await reader.read();
                    if (done) break;
                    const chunk = decoder.decode(value);
                    const lines = chunk.split('\n');
                    for (const line of lines) {
                        if (line.startsWith('data: ')) {
                            const raw = line.slice(6);
                            if (raw === '[DONE]') continue;
                            try {
                                const json = JSON.parse(raw);
                                const token = json.choices[0].delta.content;
                                if (token) {
                                    resText.innerHTML += token;
                                    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
                                }
                            } catch (e) {}
                        }
                    }
                }
            } catch (err) { resText.innerHTML = "Error connecting..."; }
            finally { resText.classList.remove('typing'); status.innerText = i18n[currentLang].verified; }
        }

        // --- Manifest Logic ---
        const manifest = { "name": "anyask AI", "short_name": "anyask", "start_url": ".", "display": "standalone", "background_color": "#fcfcff", "theme_color": "#7c4dff", "icons": [{"src": "https://i.ibb.co/JSh68ZM/80323-removebg-preview.png", "sizes": "512x512", "type": "image/png"}] };
        const manifestBlob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
        document.getElementById('pwa-manifest').setAttribute('href', URL.createObjectURL(manifestBlob));

        switchLang('bn'); // Matches your screenshot starting point
    </script>
</body>
</html>